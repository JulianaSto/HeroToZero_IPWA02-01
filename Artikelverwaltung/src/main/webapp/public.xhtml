<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://xmlns.jcp.org/jsf/core">
<h:head>
	<link rel="stylesheet" type="text/css" media="screen" href="style.css" />
	<title>Zander Filz Shop: Login</title>
</h:head>
<h:body>
	<p>
		<img id="kopf_links" src="logo.jpg" width="250" alt="Logo" />
	</p>
	<p id="kopf_rechts">
		<h:outputText value="#{anschrift.name}" />
		<br />
		<h:outputText value="#{anschrift.strasse} #{anschrift.hausnummer}" />
		<br />
		<h:outputText value="#{anschrift.plz} #{anschrift.ort}" />
	</p>
	<h1>Zander Filz Shop: Login</h1>
	<h:form>

		<p>
			<h:outputLabel value="Benutzername:" for="user" />
			<h:inputText id="user" value="#{loginController.user}" size="40"
				required="true">
				<f:event type="postValidate"
					listener="#{loginController.postValidateUser}" />
			</h:inputText>
			<h:message for="user" styleClass="error" />
		</p>

		<p>

			<h:outputLabel value="Passwort: " for="password" />
			<h:inputSecret id="password" value="#{loginController.password}"
				size="40" required="true"
				validator="#{loginController.validateLogin}" />
			<h:message for="password" styleClass="error" />
		</p>


		<p class="error">
			<h:outputText value="#{loginController.failureMessage}" />
		</p>
		<h:commandButton action="#{loginController.login}" value="Login" />
	</h:form>

	<h3>Benutzereingabe</h3>
	<h:form>
		<h:panelGrid columns="2">
			<h:outputLabel for="countryName" value="LÃ¤ndername:" />
			<h:inputText id="countryName"
				value="#{loginController.currentCountryName}" />

			<h:commandButton value="Aktuellen Datensatz laden"
				action="#{loginController.loadBoth}" />
			<br />
			<h:outputLabel for="maxYear" value="Jahr des aktuellen Datensatzes:" />
			<h:outputText id="maxYear" value="#{loginController.maxYear}" />

			<h:outputLabel for="maxYearEmission" value="Aktueller Emissionswert:" />
			<h:outputText id="maxYearEmission"
				value="#{loginController.maxYearEmission}" />
		</h:panelGrid>
		<h:messages globalOnly="true" layout="table"
			style="color: red; font-weight: bold;" />	<!-- TO DO: css Klasse definieren! -->
	</h:form>



	<h3>Country and CO2 Emissions</h3>
	<h:form>
		<h:dataTable value="#{countryDAO.allCountriesWithEmissions}"
			var="countrys">
			<h:column>
				<f:facet name="header">Country ID</f:facet>
				<h:outputText value="#{countrys.countryID}" />
			</h:column>
			<h:column>
				<f:facet name="header">Country Name</f:facet>
				<h:outputText value="#{countrys.name}" />
			</h:column>
			<h:column>
				<f:facet name="header">Country Code</f:facet>
				<h:outputText value="#{countrys.countryCode}" />
			</h:column>
			<h:column>
				<f:facet name="header">Year</f:facet>
				<h:dataTable value="#{countrys.approvedCo2Emissionen}" var="emi">
					<h:column>
						<h:outputText value="#{emi.year}" />
					</h:column>
				</h:dataTable>
			</h:column>
			<h:column>
				<f:facet name="header">CO2 Emissions</f:facet>
				<h:dataTable value="#{countrys.approvedCo2Emissionen}" var="emi">
					<h:column>
						<h:outputText value="#{emi.emission}" />
					</h:column>
				</h:dataTable>

			</h:column>
		</h:dataTable>
	</h:form>


	<p id="fussnote">
		Bitte beachten Sie: <br /> Diese Seite ist nur ein Entwurf!
	</p>

</h:body>
</html>
